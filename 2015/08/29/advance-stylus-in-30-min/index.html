<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Levblanc">
  <!-- Open Graph Data -->
  <meta property="og:title" content="30分钟Stylus进阶"/>
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Keep It Simple Do It Well"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://yoursite.comundefined"/>
  
    <link rel="alternate" href="/atom.xml" title="Keep It Simple Do It Well" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>Keep It Simple Do It Well</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.dark.css">

  <!-- Google Analytics -->
  
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-83259976-1', 'auto');
        ga('send', 'pageview');
    </script>


</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">30分钟Stylus进阶</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/levblanc">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:levblanc@163.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By Levblanc</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2015-08-29</span>
            <span class="time">20:18:48</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/coding/">coding</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/stylus/">#stylus</a> <a class="tag" href="/tags/css/">#css</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>写CSS，最繁琐的就是每个属性都要写冒号<code>:</code>，分号<code>;</code>，每个选择器都要带花括号<code>{}</code>。一次触键时间可能非常短，但是每行都要重复地输入一些符号，肯定会增加编码时间。后来出现了Less和Sass这些预编译语言，却依然没有减少这些冗余符号的输入，从这点上来说，我真的很不明白它们怎么会起Less这样的名字，也奇怪为什么它们这么火。（好吧，需要承认的是，能nesting，能写mixin和function等等的确是减少了时间，而且这些都发生在Stylus出生以前）</p>
<p>Stylus就是我一直在找的东西。</p>
<a id="more"></a>
<p>既然是预编译，当然在写的时候写得越少越好。引用一下官网语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span></div><div class="line">  <span class="selector-tag">color</span> <span class="selector-tag">white</span></div></pre></td></tr></table></figure>
<p>对，就是这么简单。所以基本语法不再多做介绍，可以自行到<a href="http://learnboost.github.io/stylus/" target="_blank" rel="external">Stylus官网</a>查阅。这里要记录的是Stylus的一些巧妙用法，可以大大地方便开发，提升编码速度。</p>
<h3 id="文件-模块引入和文件路径速配（-import-amp-globbing）"><a href="#文件-模块引入和文件路径速配（-import-amp-globbing）" class="headerlink" title="文件/模块引入和文件路径速配（@import &amp; globbing）"></a>文件/模块引入和文件路径速配（@import &amp; globbing）</h3><p>在Stylus中引入文件或模块非常简单，就是使用<code>@import</code>。</p>
<p>引入文件：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 假设variables.styl放在styl目录下 */</span></div><div class="line">@<span class="keyword">import</span> <span class="string">'styl/variables'</span>    /* 如果是stylus文件，不需要写后缀 */</div></pre></td></tr></table></figure>
<p>引入模块：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 假设项目中已安装nib模块 */</span></div><div class="line">@<span class="keyword">import</span> <span class="string">'nib'</span></div></pre></td></tr></table></figure>
<p>引入文件时，你可能会有过这样的经历：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">import</span> <span class="string">'styl/variables'</span></div><div class="line">@import <span class="string">'styl/animation'</span></div><div class="line">@import <span class="string">'styl/mixins'</span></div><div class="line">......</div></pre></td></tr></table></figure>
<p>一个个文件地import，文件一多起来，其实也挺烦人。除了要保证自己没少引入文件，还要保证自己没拼错单词…… 但是在Stylus里，可以这样写：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">import</span> <span class="string">'styl/*'</span></div></pre></td></tr></table></figure>
<p>这样，在<code>styl</code>文件夹下的所有文件都会被自动引入了。一秒解决所有烦恼。</p>
<h3 id="有用的自带Function（Built-in-Function）"><a href="#有用的自带Function（Built-in-Function）" class="headerlink" title="有用的自带Function（Built-in Function）"></a>有用的自带Function（Built-in Function）</h3><p><strong>rgba(color | r,g,b,a)</strong><br>直接告诉<code>rgba</code>方法你需要的颜色和透明度，它帮你搞定。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">rgba</span>(<span class="selector-id">#ffcc00</span>, 0<span class="selector-class">.5</span>)</div><div class="line"><span class="comment">/* rgba(255,204,0,0.5) */</span></div></pre></td></tr></table></figure>
<p>跟颜色相关的方法还有很多，次于<code>rgba</code>的常用方法，个人来说可能会是<code>lighten(color, amount)</code> 和 <code>darken(color, amount)</code>在做一些<code>hover</code>或点击事件效果的时候会挺有用。</p>
<p><strong>pathjoin(…)</strong><br>路径拼接让引入图片变得非常简单。比方说，可以自己写一个方法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">bgImg</span>(<span class="selector-tag">name</span>)</div><div class="line">    background-image url(pathjoin('images/' + name + '.png'))</div><div class="line"><span class="selector-tag">bgImg</span>(<span class="selector-tag">banner</span>) <span class="comment">/* =&gt;  background-image: url("images/banner.png"); */</span></div></pre></td></tr></table></figure>
<h3 id="CSS3扩展模块nib"><a href="#CSS3扩展模块nib" class="headerlink" title="CSS3扩展模块nib"></a>CSS3扩展模块nib</h3><p>如果说，Stylus让写css变得更简便，那nib绝对让写Stylus更简便。<a href="http://tj.github.io/nib/" target="_blank" rel="external">官方文档在此</a>。里面的每一个方法，都是提升编码速度的利器。</p>
<p><strong>Position mixins</strong></p>
<p>以前，我们这样写position：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">position</span> <span class="selector-tag">absolute</span></div><div class="line"><span class="selector-tag">top</span> 0</div><div class="line"><span class="selector-tag">left</span> 0</div></pre></td></tr></table></figure>
<p>有了nib以后：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* top, left都为0时 */</span></div><div class="line"><span class="selector-tag">absolute</span> <span class="selector-tag">top</span> <span class="selector-tag">left</span></div><div class="line"><span class="comment">/* top, left 有值时 */</span></div><div class="line"><span class="selector-tag">absolute</span> 10<span class="selector-tag">px</span> 5<span class="selector-tag">px</span></div></pre></td></tr></table></figure>
<p><strong>border</strong></p>
<p>以前，我们这样写border：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">red</span>;</div></pre></td></tr></table></figure>
<p>有了nib以后：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">border</span> <span class="selector-tag">red</span></div></pre></td></tr></table></figure>
<p><strong>auto-prefix</strong></p>
<p>用个less还是sass，还要找个auto-prefixer？nib直接帮你搞定，以<code>border-radius</code>为例（更多用法请参考官方文档）：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">button</span> </div><div class="line">  <span class="selector-tag">border-radius</span> 5<span class="selector-tag">px</span></div><div class="line"><span class="comment">/* 输出：*/</span></div><div class="line"><span class="selector-tag">button</span> &#123;</div><div class="line">  <span class="attribute">-webkit-border-radius</span>: <span class="number">5px</span>;</div><div class="line">  <span class="attribute">-moz-border-radius</span>: <span class="number">5px</span>;</div><div class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>Ellipsis</strong></p>
<p>找个方法对于永远没有办法记住单行缩略的几个属性的我来说，简直就是天大的福音！</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">button</span> </div><div class="line">  <span class="selector-tag">overflow</span> <span class="selector-tag">ellipsis</span></div><div class="line"><span class="comment">/* 输出：*/</span></div><div class="line"><span class="selector-tag">button</span> &#123;</div><div class="line">  <span class="attribute">white-space</span>: nowrap;</div><div class="line">  <span class="attribute">overflow</span>: hidden;</div><div class="line">  <span class="attribute">text-overflow</span>: ellipsis;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>Reset</strong></p>
<p>像下面这样写，就可以获得基本的reset或normalize，如何可以不爱它？</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">reset-html5</span>()</div><div class="line"><span class="selector-tag">or</span></div><div class="line"><span class="selector-tag">normalize-html5</span>()</div></pre></td></tr></table></figure>
<h3 id="与gulp配合使用"><a href="#与gulp配合使用" class="headerlink" title="与gulp配合使用"></a>与gulp配合使用</h3><p><code>gulpfile.js</code>这样写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp         = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</div><div class="line"><span class="keyword">var</span> stylus       = <span class="built_in">require</span>(<span class="string">'gulp-stylus'</span>);</div><div class="line"><span class="keyword">var</span> nib          = <span class="built_in">require</span>(<span class="string">'nib'</span>);</div><div class="line">gulp.task(<span class="string">'stylus'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'styl/*.styl'</span>)</div><div class="line">        .pipe(stylus(</div><div class="line">            &#123; <span class="attr">use</span>: [nib()] &#125;  <span class="comment">/* 直接调用nib，就可以一并编译 */</span></div><div class="line">        ))</div><div class="line">        .pipe(gulp.dest(<span class="string">'css/'</span>))</div><div class="line">&#125;);</div></pre></td></tr></table></figure>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

